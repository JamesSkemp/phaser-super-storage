/*!
 * phaser-super-storage - version 0.0.1 
 * A cross platform storage plugin for Phaser
 *
 * OrangeGames
 * Build at 22-07-2016
 * Released under MIT License 
 */

var Fabrique;!function(a){var b;!function(a){var b=function(){function a(a){this.keys=[],this.namespace="",this.setNamespace(a)}return Object.defineProperty(a.prototype,"length",{get:function(){return null!==this.getNameSpaceMatches()?this.getNameSpaceMatches().length:0},enumerable:!0,configurable:!0}),a.prototype.key=function(a){var b=this.getNameSpaceMatches()[a];return this.getCookiesForNameSpace()[b]||null},a.prototype.getItem=function(a){return this.getCookiesForNameSpace()[a]||null},a.prototype.setItem=function(a,b){document.cookie=encodeURIComponent(this.namespace+a)+"="+encodeURIComponent(b)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},a.prototype.deleteItem=function(a){document.cookie=encodeURIComponent(this.namespace+a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/"},a.prototype.empty=function(){var a=this.getCookiesForNameSpace();for(var b in a)this.deleteItem(b)},a.prototype.setNamespace=function(a){a&&(this.namespace=a+":",this.reg=new RegExp("^"+this.namespace+"[a-zA-Z0-9]*","g"))},a.prototype.getNameSpaceMatches=function(){var a=this,b=decodeURIComponent(document.cookie).split("; ");return b.filter(function(b){return null!==b.match(a.reg)&&b.match(a.reg).length>0})},a.prototype.getCookiesForNameSpace=function(){var a=this,b={};return this.getNameSpaceMatches().forEach(function(c){var d=c.replace(a.namespace,"").split("=");b[d[0]]=d[1]}),b},a}();a.CookieStorage=b}(b=a.StorageAdapters||(a.StorageAdapters={}))}(Fabrique||(Fabrique={}));var Fabrique;!function(a){var b;!function(b){var c=a.Plugins.SuperStorage,d=function(){function a(a){this.namespace="",this.setNamespace(a)}return Object.defineProperty(a.prototype,"length",{get:function(){var a=Object.keys(localStorage);return c.nameSpaceKeyFilter(a,this.namespace).length},enumerable:!0,configurable:!0}),a.prototype.key=function(a){var b=Object.keys(localStorage),d=c.nameSpaceKeyFilter(b,this.namespace);return localStorage.getItem(d[a])},a.prototype.getItem=function(a){return localStorage.getItem(this.namespace+a)},a.prototype.setItem=function(a,b){localStorage.setItem(this.namespace+a,b)},a.prototype.deleteItem=function(a){localStorage.removeItem(this.namespace+a)},a.prototype.empty=function(){for(var a=Object.keys(localStorage),b=c.nameSpaceKeyFilter(a,this.namespace),d=0;d<b.length;d++)localStorage.removeItem(b[d])},a.prototype.setNamespace=function(a){a&&(this.namespace=a+":")},a}();b.LocalStorage=d}(b=a.StorageAdapters||(a.StorageAdapters={}))}(Fabrique||(Fabrique={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Fabrique;!function(a){var b;!function(b){var c=function(b){function c(c,d){b.call(this,c,d),Object.defineProperty(c,"storage",{value:this});try{"object"==typeof localStorage?(localStorage.setItem("testingLocalStorage","foo"),localStorage.removeItem("testingLocalStorage"),this.storage=new a.StorageAdapters.LocalStorage("Quartz")):this.storage=new a.StorageAdapters.CookieStorage("Quartz")}catch(e){this.storage=new a.StorageAdapters.CookieStorage("Quartz")}}return __extends(c,b),c.nameSpaceKeyFilter=function(a,b){return a.filter(function(a){return a.substring(0,b.length)===b})},c.prototype.setAdapter=function(a){this.storage=a},Object.defineProperty(c.prototype,"length",{get:function(){return 0},enumerable:!0,configurable:!0}),c.prototype.setNamespace=function(a){},c.prototype.key=function(a){return""},c.prototype.getItem=function(){},c.prototype.setItem=function(){},c.prototype.removeItem=function(){},c.prototype.clear=function(){},c}(Phaser.Plugin);b.SuperStorage=c}(b=a.Plugins||(a.Plugins={}))}(Fabrique||(Fabrique={}));